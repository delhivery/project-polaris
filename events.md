# Events

## Overview

An event is something that happens that can affect the system. An event refers to a type of occurrence rather than any concrete instance of that occurrence. For example,  a scan is an event on a container, but each individual scan (GI/Outbound) is not an event but a concrete instance of that occurrence.

An event can have associated parameters, allowing the event instance to convey not only the occurrence of an incidence of interest but also the quantitative information regarding that occurrence. For example, a scan event generated on scanning a barcode has associated parameters that convey the participants involved.

An event instance outlives the instantaneous occurrence that generated the event and might convey this occurrence to one or more state machines. Once generated, the event instance goes through a processing lifecycle that can consist of up to three stages. First the event instance is received when it is accepted and awaits processing (API Invocation, Queues), then the event is dispatched to the state machine, at which point it becomes the current event. Finally it is consumed when the state machine finishes processing the event. A consumed event instance is no longer available for processing.

## Definition

Events are formally defined as an arbitrary tag, along with the arguments supported by the event. A interface representing event can be modeled as

```
interface Argument {
	id: string;
	[key: string]: any;
};

interface Event {
	event: EventDrn;
	models: {
		[key: ModelDrn]: Argument;
	}
};

interface EventDefinition {
	name: string;
	models: ModelDrn[];
};
```

Each event can trigger one or more callbacks associated with the event. 

## Event creation

Events are generated by protocol handlers (HTTP/RPC/MQ) or as an outcome of a previously executed callback. When an event is generated, it must be fully defined, i.e. the event should be generated with all required arguments.