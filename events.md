# Events

## Overview

An event is something that happens that can affect the system. An event refers to a type of occurrence rather than any concrete instance of that occurrence. For example,  a scan is an event on a container, but each individual scan (GI/Outbound) is not an event but a concrete instance of that occurrence.

An event can have associated parameters, allowing the event instance to convey not only the occurrence of an incidence of interest but also the quantitative information regarding that occurrence. For example, a scan event generated on scanning a barcode has associated parameters that convey the participants involved.

An event instance outlives the instantaneous occurrence that generated the event and might convey this occurrence to one or more state machines. Once generated, the event instance goes through a processing lifecycle that can consist of up to three stages. First the event instance is received when it is accepted and awaits processing (API Invocation, Queues), then the event is dispatched to the state machine, at which point it becomes the current event. Finally it is consumed when the state machine finishes processing the event. A consumed event instance is no longer available for processing.

## Event Registration

Developers can register an event given the models affected by the vent are pre registered

**Event Attributes**

- **Name**: Unqiue name of an event
- **Models**: Collection of models associated with the event
- **Arguments**: Any free text arguments accompanies with an event

**Registering an event**

```javascript
Event.register(eventName, {Model1, Model2}, args);

//example
Event.register("OrderDelivered", M1, M2, args)
```

**Register Event Callback**
After registering an event, an event callback can be declared. The library will return boilerplate functions to implement on successful registration of an event callback.

```javascript
Event.registerCallback(eventName)

//returns
eventFunctions = [
  function eventNameForM1(M1, const M2....) {}, // execution task
  function eventNameForM2(const M1, M2.....) {} // execution task
]
```

**Deploy event callback method**

Once the devs have implemented the execution task, they can be deployed

```javascript
eventFunctions.deploy()
```

## Event Generation

An event can be generated by any external system or execution task and pushed to the event stream.

```javascript
Event event = new Event();
event.setEventName("orderDelivered");
event.setModels(m1 typeof M1);
event.setModels(m2 typeof M1);
event.push();
```